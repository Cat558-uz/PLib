-- Mini GUI Library
local MiniLib = {}

function MiniLib:CreateWindow(titleText)
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = game:GetService("CoreGui")

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 250, 0, 300)
    Frame.Position = UDim2.new(0.5, -125, 0.5, -150)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.Active = true
    Frame.Draggable = true
    Frame.Parent = ScreenGui

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 30)
    Title.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    Title.Text = titleText or "Mini Window"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 14
    Title.Parent = Frame

    local Scrolling = Instance.new("ScrollingFrame")
    Scrolling.Size = UDim2.new(1, 0, 1, -30)
    Scrolling.Position = UDim2.new(0, 0, 0, 30)
    Scrolling.CanvasSize = UDim2.new(0, 0, 0, 0)
    Scrolling.BackgroundTransparency = 1
    Scrolling.BorderSizePixel = 0
    Scrolling.ScrollBarThickness = 4
    Scrolling.Parent = Frame

    local Layout = Instance.new("UIListLayout")
    Layout.Padding = UDim.new(0, 5)
    Layout.FillDirection = Enum.FillDirection.Vertical
    Layout.SortOrder = Enum.SortOrder.LayoutOrder
    Layout.Parent = Scrolling

    Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        Scrolling.CanvasSize = UDim2.new(0, 0, 0, Layout.AbsoluteContentSize.Y)
    end)

    function MiniLib:CreateButton(nameText, descText, callback)
        local Button = Instance.new("TextButton")
        Button.Size = UDim2.new(1, -10, 0, 50)
        Button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        Button.Text = ""
        Button.AutoButtonColor = true
        Button.Parent = Scrolling

        local Title = Instance.new("TextLabel")
        Title.Parent = Button
        Title.Size = UDim2.new(1, -10, 0, 18)
        Title.Position = UDim2.new(0, 5, 0, 5)
        Title.BackgroundTransparency = 1
        Title.Text = nameText or "Button"
        Title.TextColor3 = Color3.fromRGB(255, 255, 255)
        Title.TextXAlignment = Enum.TextXAlignment.Left
        Title.Font = Enum.Font.GothamBold
        Title.TextSize = 14

        local Desc = Instance.new("TextLabel")
        Desc.Parent = Button
        Desc.Size = UDim2.new(1, -10, 0, 0) -- altura ajustada dinamicamente
        Desc.Position = UDim2.new(0, 5, 0, 25)
        Desc.BackgroundTransparency = 1
        Desc.Text = descText or ""
        Desc.TextColor3 = Color3.fromRGB(200, 200, 200)
        Desc.TextXAlignment = Enum.TextXAlignment.Left
        Desc.TextYAlignment = Enum.TextYAlignment.Top
        Desc.Font = Enum.Font.Gotham
        Desc.TextSize = 12
        Desc.TextWrapped = true

        -- Ajusta tamanho da descrição e do botão automaticamente
        local function updateSize()
            local neededHeight = Desc.TextBounds.Y
            Desc.Size = UDim2.new(1, -10, 0, neededHeight)
            Button.Size = UDim2.new(1, -10, 0, 30 + neededHeight + 5)
        end
        Desc:GetPropertyChangedSignal("TextBounds"):Connect(updateSize)
        updateSize()

        Button.MouseButton1Click:Connect(function()
            if callback then callback() end
        end)
    end

    return MiniLib
end

return MiniLib
